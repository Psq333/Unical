<head>
	<title> CGI Tutorial: CGI environment variables</title>
	<link rev="made" href="mailto:nik@comp.leeds.ac.uk">
</head>

<body>

<hr>
<h1>
<img src="http://www.comp.leeds.ac.uk/Perl/Images/icon_tickbox.gif"
     width=48 height=48 alt="">
CGI environment variables</h1>
<hr>

<p>

When a CGI script is called several environment variables are set
and you can
<a href="http://www.comp.leeds.ac.uk/Perl/associative.html#environment">
access these from Perl</a>.
To see what some of the environment variables are you can try
the example perl CGI script at

<p>

<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example</a>

<p>

This program simply accesses Perl's associative <strong>%ENV</strong> array to
print out the values of the environment variables. You can have a look at the
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/displaytext/cgi-bin/environment-example">
source</a> of this program to see how it accesses the variables.

<p>

Possibly the most useful of these environment variables is the
QUERY_STRING variable. In the above example this was the empty string,
but if we append, say,
<pre>
?something
</pre>
onto the end of the URL then the string after the ? gets put into
the environment variable QUERY_STRING. Try opening the following
URLs. The first one is the same as we used above.

<p>

<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example</a>
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?something">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?something</a><br>
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?1">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?1</a><br>
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?2">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?2</a><br>
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?two+words">
http://www.comp.leeds.ac.uk/cgi-bin/Perl/environment-example?two+words</a><br>

<p>

<p>
<hr>
<h2><a name="exercise"> Exercise</a></h2>


CGI scripts allow HTML documents to be generated on the fly, and that means
generating titles, headings, and anchors on the fly.  This exercise is to
produce an
<a href="http://www.comp.leeds.ac.uk/cgi-bin/Perl/endless?1"> endless document</a>
which starts out on some numbered page (probably page 1) and has links to
the previous and next pages.  Every page is numbered and every page has
links to the previous and next pages.  Each page of the document is of
course generated by the same CGI script, with only the QUERY_STRING
variable differing each time.

<p>

The endless document is called initially with QUERY_STRING equal to 1, and
anchors to the previous and next pages have their query string calculated
from this. You may also like to extend the use of QUERY_STRING so that instead
of just containing the intended page number it also contains the value of
the last page visited.


<p>
</body>

<hr>
<a href="http://www.comp.leeds.ac.uk/Perl/Cgi/simple.html">
<img src="http://www.comp.leeds.ac.uk/Perl/Images/icon_cgi_left.gif" width=48 height=48 alt="Previous"></a>
<a href="http://www.comp.leeds.ac.uk/Perl/Cgi/start.html">
<img src="http://www.comp.leeds.ac.uk/Perl/Images/icon_tickbox.gif" width=48 height=48 alt="Start"></a>
<a href="http://www.comp.leeds.ac.uk/Perl/Cgi/packaging.html">
<img src="http://www.comp.leeds.ac.uk/Perl/Images/icon_cgi_right.gif" width=48 height=48 alt="Next"></a>


<hr>
